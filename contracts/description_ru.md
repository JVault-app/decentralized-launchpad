## Список контрактов
- sale_admin - родительский контракт, через который деплоятся сейлы

- ico_sale - контракт сейла, на котором скапливаются TON и жетоны

- sbt_item - контракт soulbound nft, подтверждающий владение купленными жетонами

- ref_wallet - контракт для владельцев реферальных кодов, подтверждает их право на получение кэшбека с рефералов

## Что можно настроить в контрактах фаундеру
- Время начала и окончания сейла

- Базовую цену, а также особые цены для разных уровней whitelist (макс 4 уровня)

- Размеры минимальной и максимальной покупок для каждого юзера

- Максимально возможное количества проданных жетонов

- Минимальный размер сборов, при недостижении которого все пользователи получат свои средтсва обратно 

- Количество жетонов, которые будут добавлены в ликвидность (задается в процентном отношении к количеству проданных жетонов)

- Процент TON, которые будут отправлены фаундеру, остальные будут добавлены в ликвидность, за вычетом комиссии лаунчпада

- Время первой разблокировки токенов после сейла и размер этой разблокировки в процентах

- Количество разлоков для линейного вестинга и длину одного цикла
- Различные размеры кэшбеков и скидок для пользователей, имеющих реферальные коды

- Разрешение/запрет автоматического получения собственных реферальных кодов для всех участников сейла и настройка базового кэшбека для них

## Основные особенности
- Количество жетонов, приобретенных каждым пользователем, сохраняется в уникальном для каждого юзера контракте (один юзер -- один контракт, вне зависимости от количества покупок).

- При отправке транзакции для покупки токенов, часть условий проверяется на основном контракте, а часть на контракте sbt_item, и покупка считается успешной только после подтверждения контрактом sbt_item.

- В случае, если покупка пользователя нарушает какие-либо условия сейла (например, не соответствует суммарный объем покупок юзера, или все жетоны были проданы), тоны автоматически возвращаются ему на кошелек.

- Каждый пользователь после успешной покупки жетонов может получить реферальный код, тогда он сможет получать кэшбек с каждой покупки своих рефералов.

- Кэшбек для каждого владельца реферального кода сохраняется на отдельном смарт-контракте, и меняется только после подтверждения успешности покупки по данному реф-коду

- Реф-код для каждого покупателя неизменяемый (если первая покупка была совершена по одному коду, то следующие тоже будут по нему)

- После того, как сейл был завершен, любому пользователю достаточно отправить 1 TON на адрес смарт-контракта, чтобы:
    * в случае успешного завершения сейла была автоматически добавлена ликвидность, часть собранных тонов отправлена фаундеру и лаунчпаду, а неиспользованная часть токенов сожжена
    * в случае недостижения минимального размера сборов, все жетоны были возвращены фаундеру

- В случае, если сейл был успешен, каждый пользовате может заклеймить купленные им токены в соответствии с правилами лока и вестинга, а владельцы реферальных кодов могут заклеймить свой кэшбек.

- В случае, если сейл был неуспешен, каждый пользователь может заклеймить обратно отправленные TON, а все токены, выделенные на сейл, отправляются фаундеру.

- Можно установить различный размер комисиии лаунчпада в зависимости от достигнутого объема сборов (т.е. можно заранее установить несколько вариантов комиссии для одного сейла)

## Схема взаимодействия (TODO)